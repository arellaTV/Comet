"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

/*! UIkit 2.26.3 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
!function (t) {
  var e;window.UIkit && (e = t(UIkit)), "function" == typeof define && define.amd && define("uikit-autocomplete", ["uikit"], function () {
    return e || t(UIkit);
  });
}(function (t) {
  "use strict";
  var e;return t.component("autocomplete", { defaults: { minLength: 3, param: "search", method: "post", delay: 300, loadingClass: "uk-loading", flipDropdown: !1, skipClass: "uk-skip", hoverClass: "uk-active", source: null, renderer: null, template: '<ul class="uk-nav uk-nav-autocomplete uk-autocomplete-results">{{~items}}<li data-value="{{$item.value}}"><a>{{$item.value}}</a></li>{{/items}}</ul>' }, visible: !1, value: null, selected: null, boot: function boot() {
      t.$html.on("focus.autocomplete.uikit", "[data-uk-autocomplete]", function () {
        var e = t.$(this);e.data("autocomplete") || t.autocomplete(e, t.Utils.options(e.attr("data-uk-autocomplete")));
      }), t.$html.on("click.autocomplete.uikit", function (t) {
        e && t.target != e.input[0] && e.hide();
      });
    }, init: function init() {
      var e = this,
          i = !1,
          s = t.Utils.debounce(function () {
        return i ? i = !1 : (e.handle(), void 0);
      }, this.options.delay);this.dropdown = this.find(".uk-dropdown"), this.template = this.find('script[type="text/autocomplete"]').html(), this.template = t.Utils.template(this.template || this.options.template), this.input = this.find("input:first").attr("autocomplete", "off"), this.dropdown.length || (this.dropdown = t.$('<div class="uk-dropdown"></div>').appendTo(this.element)), this.options.flipDropdown && this.dropdown.addClass("uk-dropdown-flip"), this.dropdown.attr("aria-expanded", "false"), this.input.on({ keydown: function keydown(t) {
          if (t && t.which && !t.shiftKey) switch (t.which) {case 13:
              i = !0, e.selected && (t.preventDefault(), e.select());break;case 38:
              t.preventDefault(), e.pick("prev", !0);break;case 40:
              t.preventDefault(), e.pick("next", !0);break;case 27:case 9:
              e.hide();}
        }, keyup: s }), this.dropdown.on("click", ".uk-autocomplete-results > *", function () {
        e.select();
      }), this.dropdown.on("mouseover", ".uk-autocomplete-results > *", function () {
        e.pick(t.$(this));
      }), this.triggercomplete = s;
    }, handle: function handle() {
      var t = this,
          e = this.value;return this.value = this.input.val(), this.value.length < this.options.minLength ? this.hide() : (this.value != e && t.request(), this);
    }, pick: function pick(e, i) {
      var s = this,
          o = t.$(this.dropdown.find(".uk-autocomplete-results").children(":not(." + this.options.skipClass + ")")),
          n = !1;if ("string" == typeof e || e.hasClass(this.options.skipClass)) {
        if ("next" == e || "prev" == e) {
          if (this.selected) {
            var a = o.index(this.selected);n = "next" == e ? o.eq(a + 1 < o.length ? a + 1 : 0) : o.eq(0 > a - 1 ? o.length - 1 : a - 1);
          } else n = o["next" == e ? "first" : "last"]();n = t.$(n);
        }
      } else n = e;if (n && n.length && (this.selected = n, o.removeClass(this.options.hoverClass), this.selected.addClass(this.options.hoverClass), i)) {
        var l = n.position().top,
            h = s.dropdown.scrollTop(),
            r = s.dropdown.height();(l > r || 0 > l) && s.dropdown.scrollTop(h + l);
      }
    }, select: function select() {
      if (this.selected) {
        var t = this.selected.data();this.trigger("selectitem.uk.autocomplete", [t, this]), t.value && this.input.val(t.value).trigger("change"), this.hide();
      }
    }, show: function show() {
      return this.visible ? void 0 : (this.visible = !0, this.element.addClass("uk-open"), e && e !== this && e.hide(), e = this, this.dropdown.attr("aria-expanded", "true"), this);
    }, hide: function hide() {
      return this.visible ? (this.visible = !1, this.element.removeClass("uk-open"), e === this && (e = !1), this.dropdown.attr("aria-expanded", "false"), this) : void 0;
    }, request: function request() {
      var e = this,
          i = function i(t) {
        t && e.render(t), e.element.removeClass(e.options.loadingClass);
      };if (this.element.addClass(this.options.loadingClass), this.options.source) {
        var s = this.options.source;switch (_typeof(this.options.source)) {case "function":
            this.options.source.apply(this, [i]);break;case "object":
            if (s.length) {
              var o = [];s.forEach(function (t) {
                t.value && -1 != t.value.toLowerCase().indexOf(e.value.toLowerCase()) && o.push(t);
              }), i(o);
            }break;case "string":
            var n = {};n[this.options.param] = this.value, t.$.ajax({ url: this.options.source, data: n, type: this.options.method, dataType: "json" }).done(function (t) {
              i(t || []);
            });break;default:
            i(null);}
      } else this.element.removeClass(e.options.loadingClass);
    }, render: function render(t) {
      return this.dropdown.empty(), this.selected = !1, this.options.renderer ? this.options.renderer.apply(this, [t]) : t && t.length && (this.dropdown.append(this.template({ items: t })), this.show(), this.trigger("show.uk.autocomplete")), this;
    } }), t.autocomplete;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Vpa2l0LTIuMjYuMy9qcy9jb21wb25lbnRzL2F1dG9jb21wbGV0ZS5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxDQUFDLFVBQVMsQ0FBVCxFQUFXO0FBQUMsTUFBSSxDQUFKLENBQU0sT0FBTyxLQUFQLEtBQWUsSUFBRSxFQUFFLEtBQUYsQ0FBakIsR0FBMkIsY0FBWSxPQUFPLE1BQW5CLElBQTJCLE9BQU8sR0FBbEMsSUFBdUMsT0FBTyxvQkFBUCxFQUE0QixDQUFDLE9BQUQsQ0FBNUIsRUFBc0MsWUFBVTtBQUFDLFdBQU8sS0FBRyxFQUFFLEtBQUYsQ0FBVjtBQUFtQixHQUFwRSxDQUFsRTtBQUF3SSxDQUExSixDQUEySixVQUFTLENBQVQsRUFBVztBQUFDO0FBQWEsTUFBSSxDQUFKLENBQU0sT0FBTyxFQUFFLFNBQUYsQ0FBWSxjQUFaLEVBQTJCLEVBQUMsVUFBUyxFQUFDLFdBQVUsQ0FBWCxFQUFhLE9BQU0sUUFBbkIsRUFBNEIsUUFBTyxNQUFuQyxFQUEwQyxPQUFNLEdBQWhELEVBQW9ELGNBQWEsWUFBakUsRUFBOEUsY0FBYSxDQUFDLENBQTVGLEVBQThGLFdBQVUsU0FBeEcsRUFBa0gsWUFBVyxXQUE3SCxFQUF5SSxRQUFPLElBQWhKLEVBQXFKLFVBQVMsSUFBOUosRUFBbUssVUFBUyxzSkFBNUssRUFBVixFQUE4VSxTQUFRLENBQUMsQ0FBdlYsRUFBeVYsT0FBTSxJQUEvVixFQUFvVyxVQUFTLElBQTdXLEVBQWtYLE1BQUssZ0JBQVU7QUFBQyxRQUFFLEtBQUYsQ0FBUSxFQUFSLENBQVcsMEJBQVgsRUFBc0Msd0JBQXRDLEVBQStELFlBQVU7QUFBQyxZQUFJLElBQUUsRUFBRSxDQUFGLENBQUksSUFBSixDQUFOLENBQWdCLEVBQUUsSUFBRixDQUFPLGNBQVAsS0FBd0IsRUFBRSxZQUFGLENBQWUsQ0FBZixFQUFpQixFQUFFLEtBQUYsQ0FBUSxPQUFSLENBQWdCLEVBQUUsSUFBRixDQUFPLHNC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ZSI6ImF1dG9jb21wbGV0ZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgVUlraXQgMi4yNi4zIHwgaHR0cDovL3d3dy5nZXR1aWtpdC5jb20gfCAoYykgMjAxNCBZT090aGVtZSB8IE1JVCBMaWNlbnNlICovXG4hZnVuY3Rpb24odCl7dmFyIGU7d2luZG93LlVJa2l0JiYoZT10KFVJa2l0KSksXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJ1aWtpdC1hdXRvY29tcGxldGVcIixbXCJ1aWtpdFwiXSxmdW5jdGlvbigpe3JldHVybiBlfHx0KFVJa2l0KX0pfShmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZTtyZXR1cm4gdC5jb21wb25lbnQoXCJhdXRvY29tcGxldGVcIix7ZGVmYXVsdHM6e21pbkxlbmd0aDozLHBhcmFtOlwic2VhcmNoXCIsbWV0aG9kOlwicG9zdFwiLGRlbGF5OjMwMCxsb2FkaW5nQ2xhc3M6XCJ1ay1sb2FkaW5nXCIsZmxpcERyb3Bkb3duOiExLHNraXBDbGFzczpcInVrLXNraXBcIixob3ZlckNsYXNzOlwidWstYWN0aXZlXCIsc291cmNlOm51bGwscmVuZGVyZXI6bnVsbCx0ZW1wbGF0ZTonPHVsIGNsYXNzPVwidWstbmF2IHVrLW5hdi1hdXRvY29tcGxldGUgdWstYXV0b2NvbXBsZXRlLXJlc3VsdHNcIj57e35pdGVtc319PGxpIGRhdGEtdmFsdWU9XCJ7eyRpdGVtLnZhbHVlfX1cIj48YT57eyRpdGVtLnZhbHVlfX08L2E+PC9saT57ey9pdGVtc319PC91bD4nfSx2aXNpYmxlOiExLHZhbHVlOm51bGwsc2VsZWN0ZWQ6bnVsbCxib290OmZ1bmN0aW9uKCl7dC4kaHRtbC5vbihcImZvY3VzLmF1dG9jb21wbGV0ZS51aWtpdFwiLFwiW2RhdGEtdWstYXV0b2NvbXBsZXRlXVwiLGZ1bmN0aW9uKCl7dmFyIGU9dC4kKHRoaXMpO2UuZGF0YShcImF1dG9jb21wbGV0ZVwiKXx8dC5hdXRvY29tcGxldGUoZSx0LlV0aWxzLm9wdGlvbnMoZS5hdHRyKFwiZGF0YS11ay1hdXRvY29tcGxldGVcIikpKX0pLHQuJGh0bWwub24oXCJjbGljay5hdXRvY29tcGxldGUudWlraXRcIixmdW5jdGlvbih0KXtlJiZ0LnRhcmdldCE9ZS5pbnB1dFswXSYmZS5oaWRlKCl9KX0saW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsaT0hMSxzPXQuVXRpbHMuZGVib3VuY2UoZnVuY3Rpb24oKXtyZXR1cm4gaT9pPSExOihlLmhhbmRsZSgpLHZvaWQgMCl9LHRoaXMub3B0aW9ucy5kZWxheSk7dGhpcy5kcm9wZG93bj10aGlzLmZpbmQoXCIudWstZHJvcGRvd25cIiksdGhpcy50ZW1wbGF0ZT10aGlzLmZpbmQoJ3NjcmlwdFt0eXBlPVwidGV4dC9hdXRvY29tcGxldGVcIl0nKS5odG1sKCksdGhpcy50ZW1wbGF0ZT10LlV0aWxzLnRlbXBsYXRlKHRoaXMudGVtcGxhdGV8fHRoaXMub3B0aW9ucy50ZW1wbGF0ZSksdGhpcy5pbnB1dD10aGlzLmZpbmQoXCJpbnB1dDpmaXJzdFwiKS5hdHRyKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIiksdGhpcy5kcm9wZG93bi5sZW5ndGh8fCh0aGlzLmRyb3Bkb3duPXQuJCgnPGRpdiBjbGFzcz1cInVrLWRyb3Bkb3duXCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtZW50KSksdGhpcy5vcHRpb25zLmZsaXBEcm9wZG93biYmdGhpcy5kcm9wZG93bi5hZGRDbGFzcyhcInVrLWRyb3Bkb3duLWZsaXBcIiksdGhpcy5kcm9wZG93bi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksdGhpcy5pbnB1dC5vbih7a2V5ZG93bjpmdW5jdGlvbih0KXtpZih0JiZ0LndoaWNoJiYhdC5zaGlmdEtleSlzd2l0Y2godC53aGljaCl7Y2FzZSAxMzppPSEwLGUuc2VsZWN0ZWQmJih0LnByZXZlbnREZWZhdWx0KCksZS5zZWxlY3QoKSk7YnJlYWs7Y2FzZSAzODp0LnByZXZlbnREZWZhdWx0KCksZS5waWNrKFwicHJldlwiLCEwKTticmVhaztjYXNlIDQwOnQucHJldmVudERlZmF1bHQoKSxlLnBpY2soXCJuZXh0XCIsITApO2JyZWFrO2Nhc2UgMjc6Y2FzZSA5OmUuaGlkZSgpfX0sa2V5dXA6c30pLHRoaXMuZHJvcGRvd24ub24oXCJjbGlja1wiLFwiLnVrLWF1dG9jb21wbGV0ZS1yZXN1bHRzID4gKlwiLGZ1bmN0aW9uKCl7ZS5zZWxlY3QoKX0pLHRoaXMuZHJvcGRvd24ub24oXCJtb3VzZW92ZXJcIixcIi51ay1hdXRvY29tcGxldGUtcmVzdWx0cyA+ICpcIixmdW5jdGlvbigpe2UucGljayh0LiQodGhpcykpfSksdGhpcy50cmlnZ2VyY29tcGxldGU9c30saGFuZGxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMudmFsdWU7cmV0dXJuIHRoaXMudmFsdWU9dGhpcy5pbnB1dC52YWwoKSx0aGlzLnZhbHVlLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuaGlkZSgpOih0aGlzLnZhbHVlIT1lJiZ0LnJlcXVlc3QoKSx0aGlzKX0scGljazpmdW5jdGlvbihlLGkpe3ZhciBzPXRoaXMsbz10LiQodGhpcy5kcm9wZG93bi5maW5kKFwiLnVrLWF1dG9jb21wbGV0ZS1yZXN1bHRzXCIpLmNoaWxkcmVuKFwiOm5vdCguXCIrdGhpcy5vcHRpb25zLnNraXBDbGFzcytcIilcIikpLG49ITE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUuaGFzQ2xhc3ModGhpcy5vcHRpb25zLnNraXBDbGFzcykpe2lmKFwibmV4dFwiPT1lfHxcInByZXZcIj09ZSl7aWYodGhpcy5zZWxlY3RlZCl7dmFyIGE9by5pbmRleCh0aGlzLnNlbGVjdGVkKTtuPVwibmV4dFwiPT1lP28uZXEoYSsxPG8ubGVuZ3RoP2ErMTowKTpvLmVxKDA+YS0xP28ubGVuZ3RoLTE6YS0xKX1lbHNlIG49b1tcIm5leHRcIj09ZT9cImZpcnN0XCI6XCJsYXN0XCJdKCk7bj10LiQobil9fWVsc2Ugbj1lO2lmKG4mJm4ubGVuZ3RoJiYodGhpcy5zZWxlY3RlZD1uLG8ucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLHRoaXMuc2VsZWN0ZWQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpLGkpKXt2YXIgbD1uLnBvc2l0aW9uKCkudG9wLGg9cy5kcm9wZG93bi5zY3JvbGxUb3AoKSxyPXMuZHJvcGRvd24uaGVpZ2h0KCk7KGw+cnx8MD5sKSYmcy5kcm9wZG93bi5zY3JvbGxUb3AoaCtsKX19LHNlbGVjdDpmdW5jdGlvbigpe2lmKHRoaXMuc2VsZWN0ZWQpe3ZhciB0PXRoaXMuc2VsZWN0ZWQuZGF0YSgpO3RoaXMudHJpZ2dlcihcInNlbGVjdGl0ZW0udWsuYXV0b2NvbXBsZXRlXCIsW3QsdGhpc10pLHQudmFsdWUmJnRoaXMuaW5wdXQudmFsKHQudmFsdWUpLnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy5oaWRlKCl9fSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZT92b2lkIDA6KHRoaXMudmlzaWJsZT0hMCx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1ay1vcGVuXCIpLGUmJmUhPT10aGlzJiZlLmhpZGUoKSxlPXRoaXMsdGhpcy5kcm9wZG93bi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSx0aGlzKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpc2libGU/KHRoaXMudmlzaWJsZT0hMSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1ay1vcGVuXCIpLGU9PT10aGlzJiYoZT0hMSksdGhpcy5kcm9wZG93bi5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIiksdGhpcyk6dm9pZCAwfSxyZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxpPWZ1bmN0aW9uKHQpe3QmJmUucmVuZGVyKHQpLGUuZWxlbWVudC5yZW1vdmVDbGFzcyhlLm9wdGlvbnMubG9hZGluZ0NsYXNzKX07aWYodGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpLHRoaXMub3B0aW9ucy5zb3VyY2Upe3ZhciBzPXRoaXMub3B0aW9ucy5zb3VyY2U7c3dpdGNoKHR5cGVvZiB0aGlzLm9wdGlvbnMuc291cmNlKXtjYXNlXCJmdW5jdGlvblwiOnRoaXMub3B0aW9ucy5zb3VyY2UuYXBwbHkodGhpcyxbaV0pO2JyZWFrO2Nhc2VcIm9iamVjdFwiOmlmKHMubGVuZ3RoKXt2YXIgbz1bXTtzLmZvckVhY2goZnVuY3Rpb24odCl7dC52YWx1ZSYmLTEhPXQudmFsdWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudmFsdWUudG9Mb3dlckNhc2UoKSkmJm8ucHVzaCh0KX0pLGkobyl9YnJlYWs7Y2FzZVwic3RyaW5nXCI6dmFyIG49e307blt0aGlzLm9wdGlvbnMucGFyYW1dPXRoaXMudmFsdWUsdC4kLmFqYXgoe3VybDp0aGlzLm9wdGlvbnMuc291cmNlLGRhdGE6bix0eXBlOnRoaXMub3B0aW9ucy5tZXRob2QsZGF0YVR5cGU6XCJqc29uXCJ9KS5kb25lKGZ1bmN0aW9uKHQpe2kodHx8W10pfSk7YnJlYWs7ZGVmYXVsdDppKG51bGwpfX1lbHNlIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhlLm9wdGlvbnMubG9hZGluZ0NsYXNzKX0scmVuZGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRyb3Bkb3duLmVtcHR5KCksdGhpcy5zZWxlY3RlZD0hMSx0aGlzLm9wdGlvbnMucmVuZGVyZXI/dGhpcy5vcHRpb25zLnJlbmRlcmVyLmFwcGx5KHRoaXMsW3RdKTp0JiZ0Lmxlbmd0aCYmKHRoaXMuZHJvcGRvd24uYXBwZW5kKHRoaXMudGVtcGxhdGUoe2l0ZW1zOnR9KSksdGhpcy5zaG93KCksdGhpcy50cmlnZ2VyKFwic2hvdy51ay5hdXRvY29tcGxldGVcIikpLHRoaXN9fSksdC5hdXRvY29tcGxldGV9KTsiXX0=